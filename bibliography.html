<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibliography & Intellectual Sources - Reparations Is A Real Number</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0e27;
            color: #e0e0e0;
            min-height: 100vh;
        }

        /* Navigation */
        .nav-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(10, 14, 39, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            border-bottom: 1px solid rgba(100, 200, 255, 0.2);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-title {
            font-size: 18px;
            font-weight: bold;
            color: #64c8ff;
        }

        .nav-links {
            display: flex;
            gap: 15px;
        }

        .nav-link {
            color: #9aa5b1;
            text-decoration: none;
            font-size: 14px;
            padding: 8px 12px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            color: #64c8ff;
            background: rgba(100, 200, 255, 0.1);
        }

        /* Main Content */
        .main-content {
            margin-top: 60px;
            padding: 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Header */
        .page-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .page-header h1 {
            font-size: 2.5em;
            color: #64c8ff;
            text-shadow: 0 0 20px rgba(100, 200, 255, 0.3);
            margin-bottom: 10px;
        }

        .page-header p {
            color: #9aa5b1;
            font-size: 1.1em;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            padding: 20px 30px;
            background: rgba(26, 30, 63, 0.8);
            border: 1px solid rgba(100, 200, 255, 0.2);
            border-radius: 10px;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #64c8ff;
        }

        .stat-label {
            font-size: 0.9em;
            color: #9aa5b1;
            margin-top: 5px;
        }

        /* Filter/Search Bar */
        .filter-bar {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px 15px;
            background: rgba(26, 30, 63, 0.8);
            border: 1px solid rgba(100, 200, 255, 0.3);
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 14px;
        }

        .search-input:focus {
            outline: none;
            border-color: #64c8ff;
        }

        .filter-select {
            padding: 12px 15px;
            background: rgba(26, 30, 63, 0.8);
            border: 1px solid rgba(100, 200, 255, 0.3);
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 14px;
            cursor: pointer;
        }

        .export-btn {
            padding: 12px 20px;
            background: rgba(100, 200, 255, 0.2);
            border: 1px solid #64c8ff;
            border-radius: 8px;
            color: #64c8ff;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .export-btn:hover {
            background: rgba(100, 200, 255, 0.3);
        }

        /* Section Tabs */
        .section-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(100, 200, 255, 0.2);
            padding-bottom: 10px;
        }

        .tab-btn {
            padding: 10px 20px;
            background: transparent;
            border: none;
            color: #9aa5b1;
            font-size: 14px;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            color: #64c8ff;
        }

        .tab-btn.active {
            color: #64c8ff;
            background: rgba(100, 200, 255, 0.1);
            border-bottom: 2px solid #64c8ff;
        }

        /* Bibliography Sections */
        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        /* Category Card */
        .category-card {
            background: rgba(26, 30, 63, 0.8);
            border: 1px solid rgba(100, 200, 255, 0.2);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(100, 200, 255, 0.05);
            border-bottom: 1px solid rgba(100, 200, 255, 0.1);
            cursor: pointer;
        }

        .category-title {
            font-size: 1.2em;
            color: #64c8ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .category-count {
            background: rgba(100, 200, 255, 0.2);
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8em;
        }

        .category-content {
            padding: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
        }

        .category-card.expanded .category-content {
            max-height: 2000px;
            padding: 20px;
        }

        .expand-icon {
            transition: transform 0.3s;
        }

        .category-card.expanded .expand-icon {
            transform: rotate(180deg);
        }

        /* Entry Item */
        .entry-item {
            padding: 15px;
            border: 1px solid rgba(100, 200, 255, 0.1);
            border-radius: 8px;
            margin-bottom: 10px;
            background: rgba(10, 14, 39, 0.5);
        }

        .entry-item:last-child {
            margin-bottom: 0;
        }

        .entry-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .entry-title {
            font-size: 1.1em;
            color: #fff;
            font-weight: 500;
        }

        .entry-type {
            font-size: 0.75em;
            padding: 3px 8px;
            border-radius: 4px;
            text-transform: uppercase;
        }

        .entry-type.primary {
            background: rgba(100, 255, 100, 0.2);
            color: #64ff64;
        }

        .entry-type.secondary {
            background: rgba(255, 200, 100, 0.2);
            color: #ffc864;
        }

        .entry-type.tertiary {
            background: rgba(255, 100, 100, 0.2);
            color: #ff6464;
        }

        .entry-type.technology {
            background: rgba(150, 100, 255, 0.2);
            color: #9664ff;
        }

        .entry-type.intellectual {
            background: rgba(100, 200, 255, 0.2);
            color: #64c8ff;
        }

        .entry-type.pending {
            background: rgba(150, 150, 150, 0.2);
            color: #999;
            border: 1px dashed #666;
        }

        .entry-description {
            color: #9aa5b1;
            font-size: 0.95em;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .entry-citation {
            font-family: 'Georgia', serif;
            font-size: 0.9em;
            color: #b0b8c4;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-left: 3px solid #64c8ff;
            border-radius: 0 5px 5px 0;
            margin-bottom: 10px;
        }

        .entry-meta {
            display: flex;
            gap: 20px;
            font-size: 0.85em;
            color: #7a8290;
            flex-wrap: wrap;
        }

        .entry-meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .entry-url {
            color: #64c8ff;
            text-decoration: none;
            word-break: break-all;
        }

        .entry-url:hover {
            text-decoration: underline;
        }

        /* Pending Entry Styling */
        .entry-item.pending {
            border-style: dashed;
            background: rgba(100, 100, 100, 0.1);
        }

        .pending-notice {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 0.8em;
            color: #ffc864;
            background: rgba(255, 200, 100, 0.1);
            padding: 5px 10px;
            border-radius: 4px;
            margin-top: 10px;
        }

        /* Add Entry Form */
        .add-entry-section {
            background: rgba(26, 30, 63, 0.8);
            border: 2px dashed rgba(100, 200, 255, 0.3);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .add-entry-section.collapsed {
            padding: 20px;
        }

        .add-entry-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            color: #64c8ff;
            font-size: 1.2em;
            cursor: pointer;
        }

        .add-entry-form {
            display: none;
            text-align: left;
            margin-top: 20px;
        }

        .add-entry-section.expanded .add-entry-form {
            display: block;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            flex: 1;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #9aa5b1;
            font-size: 0.9em;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            background: rgba(10, 14, 39, 0.8);
            border: 1px solid rgba(100, 200, 255, 0.3);
            border-radius: 5px;
            color: #e0e0e0;
            font-size: 14px;
        }

        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-submit {
            padding: 10px 25px;
            background: #64c8ff;
            border: none;
            border-radius: 5px;
            color: #0a0e27;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-submit:hover {
            background: #8ad8ff;
        }

        .btn-cancel {
            padding: 10px 25px;
            background: transparent;
            border: 1px solid #9aa5b1;
            border-radius: 5px;
            color: #9aa5b1;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-cancel:hover {
            border-color: #ff6464;
            color: #ff6464;
        }

        /* Footer */
        .page-footer {
            margin-top: 60px;
            padding: 30px;
            background: rgba(26, 30, 63, 0.5);
            border-top: 1px solid rgba(100, 200, 255, 0.2);
            text-align: center;
        }

        .footer-note {
            color: #7a8290;
            font-size: 0.9em;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }

            .stats-bar {
                gap: 15px;
            }

            .stat-item {
                padding: 15px 20px;
            }

            .form-row {
                flex-direction: column;
            }

            .filter-bar {
                flex-direction: column;
            }

            .search-input {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-bar">
        <div class="nav-left">
            <span class="nav-title">Reparations Is A Real Number</span>
            <div class="nav-links">
                <a href="index.html" class="nav-link">Dashboard</a>
                <a href="contribute-v2.html" class="nav-link">Contribute</a>
                <a href="bibliography.html" class="nav-link active">Bibliography</a>
                <a href="portal.html" class="nav-link">Portal</a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="page-header">
            <h1>Bibliography & Intellectual Sources</h1>
            <p>A comprehensive record of all databases, archives, researchers, technologies, and intellectual contributions that have shaped this project. Every source deserves acknowledgment.</p>
        </header>

        <!-- Stats -->
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-number" id="stat-archives">0</div>
                <div class="stat-label">Archives & Databases</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="stat-researchers">0</div>
                <div class="stat-label">Researchers & Scholars</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="stat-technologies">0</div>
                <div class="stat-label">Technologies</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" id="stat-pending">0</div>
                <div class="stat-label">Pending Citation</div>
            </div>
        </div>

        <!-- Filter/Search -->
        <div class="filter-bar">
            <input type="text" class="search-input" id="search-input" placeholder="Search sources, archives, researchers...">
            <select class="filter-select" id="filter-type">
                <option value="all">All Types</option>
                <option value="primary">Primary Sources</option>
                <option value="secondary">Secondary Sources</option>
                <option value="tertiary">Tertiary Sources</option>
                <option value="technology">Technologies</option>
                <option value="intellectual">Intellectual</option>
                <option value="pending">Pending Citation</option>
            </select>
            <select class="filter-select" id="filter-category">
                <option value="all">All Categories</option>
                <option value="archives">Archives & Libraries</option>
                <option value="databases">Databases</option>
                <option value="researchers">Researchers</option>
                <option value="technologies">Technologies</option>
                <option value="participants">Participants</option>
            </select>
            <button class="export-btn" onclick="exportBibliography()">Export Bibliography</button>
        </div>

        <!-- Section Tabs -->
        <div class="section-tabs">
            <button class="tab-btn active" data-section="sources">Primary & Secondary Sources</button>
            <button class="tab-btn" data-section="technologies">Technologies & Libraries</button>
            <button class="tab-btn" data-section="intellectual">Intellectual Leaders</button>
            <button class="tab-btn" data-section="participants">Contributors & Participants</button>
            <button class="tab-btn" data-section="pending">Pending Citations</button>
        </div>

        <!-- Sources Section -->
        <section class="section active" id="section-sources">
            <!-- Government Archives -->
            <div class="category-card expanded" id="cat-gov-archives">
                <div class="category-header" onclick="toggleCategory('cat-gov-archives')">
                    <span class="category-title">
                        Government Archives
                        <span class="category-count">5</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Maryland State Archives</span>
                            <span class="entry-type primary">Primary</span>
                        </div>
                        <div class="entry-description">
                            Official state repository for Maryland's historical records including slave statistics, census records, probate records, and county court documents. Primary source for Montgomery County and other Maryland slave statistics.
                        </div>
                        <div class="entry-citation">
                            Maryland State Archives. "Slavery Resources." MSA, Annapolis, MD. https://msa.maryland.gov/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://msa.maryland.gov/" class="entry-url" target="_blank">msa.maryland.gov</a></span>
                            <span class="entry-meta-item">Collections: Slave Statistics, Probate Records, County Records</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Civil War DC - Compensated Emancipation Petitions</span>
                            <span class="entry-type primary">Primary</span>
                        </div>
                        <div class="entry-description">
                            Digital archive of the DC Compensated Emancipation Act (1862) petitions. Contains original petitions from slaveholders seeking compensation for emancipated enslaved people, including names, ages, descriptions, and monetary valuations.
                        </div>
                        <div class="entry-citation">
                            Civil War Washington. "DC Compensated Emancipation Petitions." George Washington University, Washington, DC. http://civilwardc.org/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="http://civilwardc.org/" class="entry-url" target="_blank">civilwardc.org</a></span>
                            <span class="entry-meta-item">Document Type: Petitions, Government Records</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">National Archives and Records Administration (NARA)</span>
                            <span class="entry-type primary">Primary</span>
                        </div>
                        <div class="entry-description">
                            Federal repository for historical records including census records, slave schedules, military records, and freedmen's bureau records.
                        </div>
                        <div class="entry-citation">
                            National Archives and Records Administration. Washington, DC. https://www.archives.gov/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://www.archives.gov/" class="entry-url" target="_blank">archives.gov</a></span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Library of Virginia</span>
                            <span class="entry-type primary">Primary</span>
                        </div>
                        <div class="entry-description">
                            Virginia's official state library and archives, containing probate records, wills, estate inventories, and county court records documenting slavery in Virginia.
                        </div>
                        <div class="entry-citation">
                            Library of Virginia. Richmond, VA. https://www.lva.virginia.gov/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://www.lva.virginia.gov/" class="entry-url" target="_blank">lva.virginia.gov</a></span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">St. Mary's County Historical Society</span>
                            <span class="entry-type primary">Primary</span>
                        </div>
                        <div class="entry-description">
                            Local historical society preserving St. Mary's County, Maryland records including estate records and church registers documenting enslaved populations.
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">Location: St. Mary's County, Maryland</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Genealogy Databases -->
            <div class="category-card" id="cat-genealogy">
                <div class="category-header" onclick="toggleCategory('cat-genealogy')">
                    <span class="category-title">
                        Genealogy Databases
                        <span class="category-count">3</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">FamilySearch</span>
                            <span class="entry-type secondary">Secondary</span>
                        </div>
                        <div class="entry-description">
                            Free genealogical database operated by The Church of Jesus Christ of Latter-day Saints. Provides digitized historical records, census data, and family tree building tools. Used for API integration and genealogical verification.
                        </div>
                        <div class="entry-citation">
                            FamilySearch. The Church of Jesus Christ of Latter-day Saints. Salt Lake City, UT. https://www.familysearch.org/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://www.familysearch.org/" class="entry-url" target="_blank">familysearch.org</a></span>
                            <span class="entry-meta-item">Integration: API</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Ancestry.com</span>
                            <span class="entry-type secondary">Secondary</span>
                        </div>
                        <div class="entry-description">
                            Commercial genealogy database with extensive digitized records including census records, slave schedules, wills, and probate records. Referenced in citation tracking for research guidance.
                        </div>
                        <div class="entry-citation">
                            Ancestry.com. Lehi, UT. https://www.ancestry.com/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://www.ancestry.com/" class="entry-url" target="_blank">ancestry.com</a></span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Find A Grave</span>
                            <span class="entry-type secondary">Secondary</span>
                        </div>
                        <div class="entry-description">
                            Crowdsourced database of cemetery records and grave markers. Used for evidence collection including headstone photos and burial locations.
                        </div>
                        <div class="entry-citation">
                            Find A Grave. Ancestry.com Operations, Inc. https://www.findagrave.com/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://www.findagrave.com/" class="entry-url" target="_blank">findagrave.com</a></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Research Databases -->
            <div class="category-card" id="cat-research">
                <div class="category-header" onclick="toggleCategory('cat-research')">
                    <span class="category-title">
                        Research Collections & Compilations
                        <span class="category-count">3</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Tom Blake's Large Slaveholders of 1860</span>
                            <span class="entry-type secondary">Secondary</span>
                        </div>
                        <div class="entry-description">
                            Comprehensive compilation of 1860 slave schedule census data identifying large slaveholders (10+ enslaved persons). Hosted on RootsWeb. Provides structured tabular data of slaveholder names, enslaved counts by age/gender, and locations.
                        </div>
                        <div class="entry-citation">
                            Blake, Tom. "Large Slaveholders of 1860 and African American Surname Matches from 1870." RootsWeb. http://freepages.rootsweb.com/~ajac/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="http://freepages.rootsweb.com/~ajac/" class="entry-url" target="_blank">freepages.rootsweb.com/~ajac</a></span>
                            <span class="entry-meta-item">Source Type: Census Compilation</span>
                            <span class="entry-meta-item">Confidence: 98%</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Beyond Kin Enslaved Populations Directory</span>
                            <span class="entry-type secondary">Secondary</span>
                        </div>
                        <div class="entry-description">
                            Database connecting enslaved individuals with slaveholders. Contains suspected owner relationships and enslaved person records requiring verification with primary sources.
                        </div>
                        <div class="entry-citation">
                            Beyond Kin. "Enslaved Populations Directory." https://www.beyondkin.org/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">URL: <a href="https://www.beyondkin.org/" class="entry-url" target="_blank">beyondkin.org</a></span>
                            <span class="entry-meta-item">Confidence: 70% (requires verification)</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Wikipedia - Historical Articles</span>
                            <span class="entry-type tertiary">Tertiary</span>
                        </div>
                        <div class="entry-description">
                            Encyclopedia articles providing contextual information about historical figures, events, and locations. Used as starting points requiring verification with primary sources.
                        </div>
                        <div class="entry-citation">
                            Wikipedia contributors. Various articles. Wikipedia, The Free Encyclopedia. https://en.wikipedia.org/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">Confidence: 50% (requires primary source verification)</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Technologies Section -->
        <section class="section" id="section-technologies">
            <div class="category-card expanded" id="cat-ocr">
                <div class="category-header" onclick="toggleCategory('cat-ocr')">
                    <span class="category-title">
                        OCR & Document Processing
                        <span class="category-count">2</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Google Cloud Vision API</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            Primary OCR service providing 90-95% accuracy for historical document text extraction. Used for processing uploaded documents and archival images.
                        </div>
                        <div class="entry-citation">
                            Google Cloud. "Cloud Vision API." Google LLC. https://cloud.google.com/vision
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: Commercial API</span>
                            <span class="entry-meta-item">Role: Primary OCR</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Tesseract.js</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            Open-source OCR engine providing 60-80% accuracy. Used as fallback when Google Vision API is unavailable or for offline processing.
                        </div>
                        <div class="entry-citation">
                            Tesseract.js Contributors. "Tesseract.js." Apache License 2.0. https://github.com/naptha/tesseract.js
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: Apache 2.0</span>
                            <span class="entry-meta-item">Role: Fallback OCR</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-card" id="cat-blockchain">
                <div class="category-header" onclick="toggleCategory('cat-blockchain')">
                    <span class="category-title">
                        Blockchain & Smart Contracts
                        <span class="category-count">3</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">OpenZeppelin Contracts</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            Library of secure, audited smart contract components for Ethereum. Used for escrow patterns and payment distribution functionality.
                        </div>
                        <div class="entry-citation">
                            OpenZeppelin. "OpenZeppelin Contracts." MIT License. https://github.com/OpenZeppelin/openzeppelin-contracts
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: MIT</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Web3.js</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            Ethereum JavaScript API for interacting with smart contracts and the Ethereum blockchain.
                        </div>
                        <div class="entry-citation">
                            Ethereum Foundation. "Web3.js." MIT License. https://github.com/web3/web3.js
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: MIT</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">IPFS (InterPlanetary File System)</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            Distributed file storage protocol used for immutable document storage. Ensures permanent, tamper-proof archival of historical documents.
                        </div>
                        <div class="entry-citation">
                            Protocol Labs. "IPFS." MIT License. https://ipfs.io/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: MIT</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-card" id="cat-nlp">
                <div class="category-header" onclick="toggleCategory('cat-nlp')">
                    <span class="category-title">
                        NLP & Text Processing
                        <span class="category-count">2</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Natural (NLP Library)</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            JavaScript natural language processing library used for text analysis, tokenization, and entity extraction from historical documents.
                        </div>
                        <div class="entry-citation">
                            Natural Contributors. "Natural." MIT License. https://github.com/NaturalNode/natural
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: MIT</span>
                        </div>
                    </div>

                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">OpenRouter API (LLM Integration)</span>
                            <span class="entry-type technology">Technology</span>
                        </div>
                        <div class="entry-description">
                            API gateway for large language model integration. Used for intelligent document parsing, entity extraction, and natural language understanding in the contribution pipeline.
                        </div>
                        <div class="entry-citation">
                            OpenRouter. "OpenRouter API." https://openrouter.ai/
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">License: Commercial API</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Intellectual Leaders Section -->
        <section class="section" id="section-intellectual">
            <div class="category-card expanded" id="cat-researchers">
                <div class="category-header" onclick="toggleCategory('cat-researchers')">
                    <span class="category-title">
                        Researchers & Scholars
                        <span class="category-count">1</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Tom Blake</span>
                            <span class="entry-type intellectual">Intellectual</span>
                        </div>
                        <div class="entry-description">
                            Genealogist and researcher who compiled the "Large Slaveholders of 1860" database, providing comprehensive census data linking slaveholders to enslaved population counts across multiple states.
                        </div>
                        <div class="entry-citation">
                            Blake, Tom. "Large Slaveholders of 1860 and African American Surname Matches from 1870." RootsWeb.
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">Contribution: Census Data Compilation</span>
                            <span class="entry-meta-item">States Covered: MD, VA, DC, and others</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-card" id="cat-project-lead">
                <div class="category-header" onclick="toggleCategory('cat-project-lead')">
                    <span class="category-title">
                        Project Leadership
                        <span class="category-count">1</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content">
                    <div class="entry-item">
                        <div class="entry-header">
                            <span class="entry-title">Danyela Brown</span>
                            <span class="entry-type intellectual">Intellectual</span>
                        </div>
                        <div class="entry-description">
                            Project creator and lead developer. Conceived the blockchain-based reparations platform and directs the integration of genealogical research, document processing, and economic calculation systems.
                        </div>
                        <div class="entry-meta">
                            <span class="entry-meta-item">Role: Project Creator & Lead</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Participants Section -->
        <section class="section" id="section-participants">
            <div class="add-entry-section collapsed" id="add-participant">
                <div class="add-entry-header" onclick="toggleAddForm('add-participant')">
                    + Add Contributor/Participant
                </div>
                <form class="add-entry-form" onsubmit="submitParticipant(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" id="participant-name" placeholder="Full name">
                        </div>
                        <div class="form-group">
                            <label>Role</label>
                            <select id="participant-role">
                                <option value="contributor">Document Contributor</option>
                                <option value="researcher">Researcher</option>
                                <option value="transcriber">Transcriber</option>
                                <option value="reviewer">Reviewer</option>
                                <option value="developer">Developer</option>
                                <option value="advisor">Advisor</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Contribution Description</label>
                        <textarea id="participant-contribution" placeholder="Describe their contribution to the project..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-cancel" onclick="toggleAddForm('add-participant')">Cancel</button>
                        <button type="submit" class="btn-submit">Add Participant</button>
                    </div>
                </form>
            </div>

            <div class="category-card expanded" id="cat-contributors">
                <div class="category-header" onclick="toggleCategory('cat-contributors')">
                    <span class="category-title">
                        Contributors & Participants
                        <span class="category-count">0</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content" id="contributors-list">
                    <p style="color: #7a8290; text-align: center; padding: 20px;">
                        No participants added yet. Contributors will be listed here as they contribute documents, research, or other intellectual work to the project.
                    </p>
                </div>
            </div>
        </section>

        <!-- Pending Citations Section -->
        <section class="section" id="section-pending">
            <div class="add-entry-section collapsed" id="add-pending">
                <div class="add-entry-header" onclick="toggleAddForm('add-pending')">
                    + Flag Source for Citation
                </div>
                <form class="add-entry-form" onsubmit="submitPending(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Source Title/Description</label>
                            <input type="text" id="pending-title" placeholder="What was the source about?">
                        </div>
                        <div class="form-group">
                            <label>Source Type</label>
                            <select id="pending-type">
                                <option value="copy-paste">Copy/Paste from Website</option>
                                <option value="document">Document Reference</option>
                                <option value="quote">Quote or Excerpt</option>
                                <option value="data">Data/Statistics</option>
                                <option value="methodology">Methodology</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>URL (if known)</label>
                        <input type="url" id="pending-url" placeholder="https://...">
                    </div>
                    <div class="form-group">
                        <label>Context / Notes</label>
                        <textarea id="pending-context" placeholder="Where in the project was this used? Any details that might help locate the original source..."></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-cancel" onclick="toggleAddForm('add-pending')">Cancel</button>
                        <button type="submit" class="btn-submit">Flag for Citation</button>
                    </div>
                </form>
            </div>

            <div class="category-card expanded" id="cat-pending">
                <div class="category-header" onclick="toggleCategory('cat-pending')">
                    <span class="category-title">
                        Pending Citations
                        <span class="category-count" id="pending-count">0</span>
                    </span>
                    <span class="expand-icon">&#9660;</span>
                </div>
                <div class="category-content" id="pending-list">
                    <p style="color: #7a8290; text-align: center; padding: 20px;">
                        No pending citations. When you reference content from external sources (copy/paste, quotes, data), flag it here for proper citation later.
                    </p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="page-footer">
            <p class="footer-note">
                This bibliography aims to acknowledge all intellectual contributions to the Reparations Is A Real Number project.
                If you notice a missing citation or attribution, please use the "Flag Source for Citation" feature to ensure proper credit.
                Academic integrity and proper attribution are fundamental to this work.
            </p>
        </footer>
    </main>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadBibliography();
            updateStats();
            setupTabs();
            setupSearch();
        });

        // Tab switching
        function setupTabs() {
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));

                    btn.classList.add('active');
                    const sectionId = 'section-' + btn.dataset.section;
                    document.getElementById(sectionId).classList.add('active');
                });
            });
        }

        // Toggle category expansion
        function toggleCategory(categoryId) {
            document.getElementById(categoryId).classList.toggle('expanded');
        }

        // Toggle add form
        function toggleAddForm(formId) {
            document.getElementById(formId).classList.toggle('expanded');
            document.getElementById(formId).classList.toggle('collapsed');
        }

        // Search functionality
        function setupSearch() {
            const searchInput = document.getElementById('search-input');
            searchInput.addEventListener('input', debounce(performSearch, 300));

            document.getElementById('filter-type').addEventListener('change', performSearch);
            document.getElementById('filter-category').addEventListener('change', performSearch);
        }

        function debounce(func, wait) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), wait);
            };
        }

        function performSearch() {
            const query = document.getElementById('search-input').value.toLowerCase();
            const typeFilter = document.getElementById('filter-type').value;

            document.querySelectorAll('.entry-item').forEach(entry => {
                const text = entry.textContent.toLowerCase();
                const type = entry.querySelector('.entry-type')?.textContent.toLowerCase() || '';

                const matchesQuery = !query || text.includes(query);
                const matchesType = typeFilter === 'all' || type.includes(typeFilter);

                entry.style.display = matchesQuery && matchesType ? 'block' : 'none';
            });
        }

        // Load bibliography from API or localStorage
        async function loadBibliography() {
            try {
                // Try to load from API first
                const response = await fetch('/api/bibliography');
                if (response.ok) {
                    const data = await response.json();
                    renderPendingCitations(data.pending || []);
                    renderParticipants(data.participants || []);
                }
            } catch (error) {
                console.log('API not available, using local storage');
                // Load from localStorage as fallback
                const pending = JSON.parse(localStorage.getItem('pendingCitations') || '[]');
                const participants = JSON.parse(localStorage.getItem('participants') || '[]');
                renderPendingCitations(pending);
                renderParticipants(participants);
            }
        }

        // Render pending citations
        function renderPendingCitations(citations) {
            const container = document.getElementById('pending-list');
            const countEl = document.getElementById('pending-count');

            if (citations.length === 0) {
                container.innerHTML = `<p style="color: #7a8290; text-align: center; padding: 20px;">
                    No pending citations. When you reference content from external sources (copy/paste, quotes, data), flag it here for proper citation later.
                </p>`;
                countEl.textContent = '0';
                return;
            }

            countEl.textContent = citations.length;
            container.innerHTML = citations.map(c => `
                <div class="entry-item pending">
                    <div class="entry-header">
                        <span class="entry-title">${escapeHtml(c.title)}</span>
                        <span class="entry-type pending">Pending</span>
                    </div>
                    <div class="entry-description">${escapeHtml(c.context || 'No context provided')}</div>
                    ${c.url ? `<div class="entry-meta"><span class="entry-meta-item">URL: <a href="${escapeHtml(c.url)}" class="entry-url" target="_blank">${escapeHtml(c.url)}</a></span></div>` : ''}
                    <div class="pending-notice">
                        Awaiting full citation details
                    </div>
                </div>
            `).join('');

            updateStats();
        }

        // Render participants
        function renderParticipants(participants) {
            const container = document.getElementById('contributors-list');
            const countEl = document.querySelector('#cat-contributors .category-count');

            if (participants.length === 0) {
                container.innerHTML = `<p style="color: #7a8290; text-align: center; padding: 20px;">
                    No participants added yet. Contributors will be listed here as they contribute documents, research, or other intellectual work to the project.
                </p>`;
                countEl.textContent = '0';
                return;
            }

            countEl.textContent = participants.length;
            container.innerHTML = participants.map(p => `
                <div class="entry-item">
                    <div class="entry-header">
                        <span class="entry-title">${escapeHtml(p.name)}</span>
                        <span class="entry-type intellectual">${escapeHtml(p.role)}</span>
                    </div>
                    <div class="entry-description">${escapeHtml(p.contribution)}</div>
                    <div class="entry-meta">
                        <span class="entry-meta-item">Added: ${new Date(p.addedAt).toLocaleDateString()}</span>
                    </div>
                </div>
            `).join('');

            updateStats();
        }

        // Submit pending citation
        async function submitPending(event) {
            event.preventDefault();

            const pending = {
                id: 'pending_' + Date.now(),
                title: document.getElementById('pending-title').value,
                type: document.getElementById('pending-type').value,
                url: document.getElementById('pending-url').value,
                context: document.getElementById('pending-context').value,
                addedAt: new Date().toISOString()
            };

            try {
                const response = await fetch('/api/bibliography/pending', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(pending)
                });

                if (response.ok) {
                    loadBibliography();
                } else {
                    throw new Error('API failed');
                }
            } catch (error) {
                // Fallback to localStorage
                const citations = JSON.parse(localStorage.getItem('pendingCitations') || '[]');
                citations.push(pending);
                localStorage.setItem('pendingCitations', JSON.stringify(citations));
                renderPendingCitations(citations);
            }

            // Reset form
            event.target.reset();
            toggleAddForm('add-pending');
        }

        // Submit participant
        async function submitParticipant(event) {
            event.preventDefault();

            const participant = {
                id: 'participant_' + Date.now(),
                name: document.getElementById('participant-name').value,
                role: document.getElementById('participant-role').value,
                contribution: document.getElementById('participant-contribution').value,
                addedAt: new Date().toISOString()
            };

            try {
                const response = await fetch('/api/bibliography/participants', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(participant)
                });

                if (response.ok) {
                    loadBibliography();
                } else {
                    throw new Error('API failed');
                }
            } catch (error) {
                // Fallback to localStorage
                const participants = JSON.parse(localStorage.getItem('participants') || '[]');
                participants.push(participant);
                localStorage.setItem('participants', JSON.stringify(participants));
                renderParticipants(participants);
            }

            // Reset form
            event.target.reset();
            toggleAddForm('add-participant');
        }

        // Update stats
        function updateStats() {
            // Count archives (entries in gov-archives and genealogy sections)
            const archives = document.querySelectorAll('#cat-gov-archives .entry-item, #cat-genealogy .entry-item, #cat-research .entry-item').length;
            document.getElementById('stat-archives').textContent = archives;

            // Count researchers
            const researchers = document.querySelectorAll('#cat-researchers .entry-item, #cat-project-lead .entry-item').length;
            document.getElementById('stat-researchers').textContent = researchers;

            // Count technologies
            const technologies = document.querySelectorAll('#section-technologies .entry-item').length;
            document.getElementById('stat-technologies').textContent = technologies;

            // Count pending
            const pending = JSON.parse(localStorage.getItem('pendingCitations') || '[]').length;
            document.getElementById('stat-pending').textContent = pending;
        }

        // Export bibliography
        function exportBibliography() {
            // Collect all entries
            const entries = [];

            document.querySelectorAll('.entry-item').forEach(entry => {
                const title = entry.querySelector('.entry-title')?.textContent || '';
                const type = entry.querySelector('.entry-type')?.textContent || '';
                const description = entry.querySelector('.entry-description')?.textContent || '';
                const citation = entry.querySelector('.entry-citation')?.textContent || '';
                const url = entry.querySelector('.entry-url')?.href || '';

                entries.push({ title, type, description, citation, url });
            });

            // Generate export
            const exportData = {
                project: 'Reparations Is A Real Number',
                exportDate: new Date().toISOString(),
                entries: entries
            };

            // Download as JSON
            const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `bibliography-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Utility: escape HTML
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>
